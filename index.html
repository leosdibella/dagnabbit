<!DOCTYPE html>
<html lang="en">
  <head>
    <script type="module">
      import { topologicalSort } from "./build/release.js";

      const graph = [
        [1, 5],
        [2, 6],
        [3, 7],
        [4, 8],
        [13],
        [6, 9],
        [7],
        [],
        [7],
        [10, 18],
        [11, 14],
        [12],
        [8],
        [12],
        [15, 19],
        [16],
        [12, 17],
        [13],
        [],
        [20],
        [16, 21],
        [17]
      ];

      const topologicallySorted = topologicalSort(graph);
      const visualGraph = [];

      for (let i = 0; i < graph.length; ++i) {
        const subgraph = [];

        for (let j = 0; j < graph[i]; ++j) {
          subgraph.push(`(${i}) -> ${graph[i][j] ?? '()'}`);
        }

        visualGraph.push(subgraph);
      }

      document.body.innerText = `graph: ${visualGraph.map((sg) => sg.join()).join('\n')}, topologically sorted: ${topologicallySorted.join()}`;
    </script>
  </head>
  <body>
  </body>
</html>
