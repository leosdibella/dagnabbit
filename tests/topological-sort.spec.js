import assert from 'assert';
import { topologicalSort } from '../build/debug.js';

//      4 ---> 5
//      ^      ^
//      |      |
// 0 -> 2 ---> 3
//      ^
//      |
//      1
assert.deepEqual(
  topologicalSort([
    [2],
    [2],
    [3, 4],
    [5],
    [5],
    []
  ]),
  [
    1,
    0,
    2,
    4,
    3,
    5
  ]
);

// 4 <-- 5 <-- 6 ----> 7
// ^     |     ^
// |     v     |
// 2 --> 3     |
// ^           |
// |           |
// 0 --------> 1
assert.deepEqual(
  topologicalSort([
    [1, 2],
    [6],
    [3, 4],
    [],
    [],
    [4],
    [5, 7],
    []
  ]),
  [
    0,
    2,
    3,
    1,
    6,
    7,
    5,
    4
  ]
);

// 18 <- 19 ---------> 20 ----> 21
// ^     ^             |        |
// |     |             |        |
// |     |             V        V
// |     14 --> 15 --> 16 ----> 17
// |     ^              |       |
// |     |              |       |
// |     |              v       V
// 9 --> 10 --> 11 ---> 12 <--- 13
// ^                    |       ^
// |                    |       |
// |                    v       |
// 5 ---> 6 ---> 7 <--- 8       |
// ^      ^      ^      ^       |
// |      |      |      |       |
// |      |      |      |       |
// 0 ---> 1 ---> 2 ---> 3 ----> 4
assert.deepEqual(
  topologicalSort([
    [1, 5],
    [2, 6],
    [3, 7],
    [4, 8],
    [13],
    [6, 9],
    [7],
    [],
    [7],
    [10, 18],
    [11, 14],
    [12],
    [8],
    [12],
    [15, 19],
    [16],
    [12, 17],
    [13],
    [],
    [20],
    [16, 21],
    [17]
  ]),
  [
    0, 
    5,
    9,
    18,
    10,
    14,
    19,
    20,
    21,
    15,
    16,
    17,
    11, 
    1,
    6,
    2,
    3,
    4,
    13,
    12,
    8,
    7
  ]
);

console.log('paased');